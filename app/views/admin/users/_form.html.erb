<%= form_for [:admin, @user] do |f| %>
    <% if @user.errors.any? %>
	<div id="error_explanation">
	    <h2><%= pluralize(@user.errors.count, "error") %> prohibited this hotel from being saved:</h2>

	    <ul>
		<% @user.errors.full_messages.each do |msg| %>
		    <li><%= msg %></li>
		<% end %>
	    </ul>
	</div>
    <% end %>

    <div class="field">
	<%= f.label :email, 'E-mail:' %>
	<%= f.text_field :email, :class => 'input-xlarge' %>
    </div>
    <div class="field">
	<%= f.label :password, 'Contraseña:' %>
	<%= f.password_field :password, :class => 'input-xlarge' %>
    </div>
    <div class="field">
	<%= f.label :password_confirmation, 'Confirmación de contraseña:' %>
	<%= f.password_field :password_confirmation, :class => 'input-xlarge' %>
    </div>
    <% if @current_hotel.nil? %>
	<div class="field">
	    <%= f.label :hotel_id, 'Hotel (En caso de NO ser super admin):' %>
	    <%= collection_select :user, :hotel_id, Hotel.all, :id, :name, :prompt => 'Seleccionar Hotel' %>
	</div>
    <% end %>
    <% if can? :read, Role %>
	<%= hidden_field_tag "user[role_ids][]", nil %>
	<h4>Rol:</h4>
	<table class="table table-bordered table-photos" style="width:285px;">
	    <% Role.all.each do |role| %>
		<tr>
		<td><%= check_box_tag "user[role_ids][]", role.id, @user.role_ids.include?(role.id), id: dom_id(role) %></td>
		<td><%= label_tag dom_id(role), role.name %></td>
	    </tr>
	    <% end %>
	</table>
    <% end %>

    <div class="actions">
	<%= f.submit :class => 'btn btn-primary' %>
    </div>
<% end %>
